# 消息推送的试验模块

1. 内部接口

* `login`

客户端与服务端建立连接后，要触发一个`login`事件，将用户信息发送到服务端，消息体的格式暂定为：
```json
{
  userID: 'userid'
}
```
* `newMessage`

服务端发送消息，客户端需要监听`newMessage`事件，消息体的格式暂定为
```json
{
  msgID: '1478488134224', //id为时间戳，单位为毫秒
  data: 'object' //数据格式由用户定义，这里只做转发
}
```
* `receipt`

客户端收到消息后，要向服务端发送回执，即`emit`一个`receipt`事件，消息体的格式暂定为：
```json
{
  userID: 'userid', //用户id
  msgID: '1478488134224' //消息id
}
```
* `EOM`

服务端在向单个用户连续发送信息时，每隔100条会触发一个End of Message，EOM事件，消息体的格式暂定为：
```json
{
  
}
```

* `ALL`

广播事件，服务端主动推送给在线用户，客户端自己根据消息体的内容解析消息具体输入何种类型。
```json
{

}
```






